!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);var r,o={url:{posts:"https://my-json-server.typicode.com/Vladimir-Front-Developer/EPM-FE2019/posts"}},a=function(){function t(){}return t.prototype.getAll=function(t){return fetch(o.url[t]).then((function(t){return t.json()})).catch((function(t){throw new Error("ERROR getAll: "+t)}))},t}(),u=function(){function t(){}return t.prototype.render=function(t,e){for(var n=document.getElementById(t),r=0,o=e;r<o.length;r++){var a=o[r];n.append(this.createItem(a))}},t.prototype.createItem=function(t){var e=this,n=document.createElement("div");return n.id=t.id,n.className=t.style,t.elements.forEach((function(t){switch(t.type){case"img":n.append(e.createImg(t.value,t.style));break;case"subHdr":n.append(e.createSubHeader(t.value,t.style));break;case"txt":n.append(e.createText(t.value,t.style));break;case"btn":n.append(e.createBtn(t.value,t.style));break;default:throw new Error("unknown type!")}})),n},t.prototype.createImg=function(t,e){var n=document.createElement("img");return n.className=e,n.src=t,n.alt="image",n},t.prototype.createSubHeader=function(t,e){var n=document.createElement("h4");return n.className="sub-header "+e,n.innerHTML=t,n},t.prototype.createText=function(t,e){var n=document.createElement("p");return n.className=e,n.innerHTML=t,n},t.prototype.createBtn=function(t,e){var n=document.createElement("button");return n.className="btn btn-style "+e,n.innerHTML=t,n},t}(),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=function(t){function e(e,n,r){var o=t.call(this)||this,a=o.getItemsData(r,n);return t.prototype.render.call(o,e,a),o}return c(e,t),e.prototype.getItemsData=function(t,e){return this.sortByAverageRating(t).slice(0,e).map((function(t){return{id:String(t.id),style:"blog__content__item",elements:[{type:"img",style:"blog__content__item__image",value:t.imgLink},{type:"subHdr",style:"blog__content__item__header",value:t.title},{type:"txt",style:"blog__content__item__date",value:t.date},{type:"txt",style:"blog__content__item__rating",value:String(t.rating)},{type:"txt",style:"blog__content__item__text",value:t.text},{type:"txt",style:"blog__content__item__topics",value:t.topics.join(", ")},{type:"btn",style:"blog__content__item__button",value:"read more"}]}}))},e.prototype.sortByAverageRating=function(t){var e=this;if(!t.length)throw new Error("no posts");return t.map((function(t){return i(i({},t),{rating:e.getAverage(t.ratings)})})).sort((function(t,e){return e.rating-t.rating}))},e.prototype.getAverage=function(t){return Math.floor(t.reduce((function(t,e){return t+e}))/t.length)},e}(u);(new a).getAll("posts").then((function(t){return new l("blogContent",3,t)}))}]);